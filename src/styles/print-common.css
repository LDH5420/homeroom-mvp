/* 프린트 전용 공통 스타일 */

/* 화면에서는 프린트 영역 숨김 */
@media screen {
  .print-only {
    display: none !important;
  }
}

/* 인쇄 시 화면 UI 숨김 */
@media print {
  .screen-only {
    display: none !important;
  }

  .print-only {
    display: block !important;
  }

  /* 기본 페이지 설정 */
  @page {
    size: A4 portrait;
    margin: 0;
  }

  html, body {
    margin: 0;
    padding: 0;
    width: 210mm;
    min-height: 297mm;
    background: white;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* 앱 UI 숨김 */
  .app-header,
  .view-header,
  .view-footer,
  #template-options,
  #offset-controls,
  #print-guide {
    display: none !important;
  }

  /* 뷰 레이아웃 제거 */
  .view {
    max-width: none;
    margin: 0;
    padding: 0;
    background: transparent;
  }

  .view-content {
    padding: 0;
    background: transparent;
    box-shadow: none;
  }

  #preview-container {
    border: none;
    max-height: none;
    overflow: visible;
  }
}

/* 시트 기본 (인쇄 단위) */
.sheet {
  position: relative;
  width: 210mm;
  height: 297mm;
  background: white;
  overflow: hidden;
  page-break-after: always;
  page-break-inside: avoid;
}

.sheet:last-child {
  page-break-after: auto;
}

/* 가로 방향 시트 */
.sheet.landscape {
  width: 297mm;
  height: 210mm;
}

@media print {
  .sheet.landscape {
    page: landscape;
  }

  @page landscape {
    size: A4 landscape;
  }
}

/* 오프셋 보정 적용 */
.sheet {
  transform: translate(var(--offset-x, 0mm), var(--offset-y, 0mm));
}

/* 인쇄 레이어 */
.print-layer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

/* 기본 테이블 스타일 (인쇄용) */
.print-table {
  border-collapse: collapse;
  width: 100%;
}

.print-table th,
.print-table td {
  border: 0.5pt solid #000;
  padding: 2mm;
  font-size: 10pt;
  text-align: center;
  vertical-align: middle;
}

.print-table th {
  font-weight: bold;
  background: #f0f0f0;
}

/* 절취선 */
.cutline {
  border-top: 1pt dashed #666;
  position: relative;
  margin: 3mm 0;
}

.cutline::before {
  content: "✂";
  position: absolute;
  left: -5mm;
  top: -3mm;
  font-size: 8pt;
  color: #666;
}

/* 기준 눈금 (테스트용) */
.ruler-h {
  position: absolute;
  height: 1mm;
  background: #000;
}

.ruler-v {
  position: absolute;
  width: 1mm;
  background: #000;
}

.ruler-mark {
  position: absolute;
  font-size: 6pt;
  color: #000;
}

/* 미리보기용 스케일 */
@media screen {
  #preview-container {
    padding: 20px;
    background: #e5e5e5;
  }

  .sheet {
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    margin: 0 auto 20px;
  }

  /* 화면에서 축소 표시 (필요시) */
  .preview-scaled .sheet {
    transform: scale(0.5);
    transform-origin: top left;
  }
}
